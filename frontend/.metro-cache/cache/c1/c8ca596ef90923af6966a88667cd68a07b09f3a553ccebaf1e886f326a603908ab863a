{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"api\", {\n    enumerable: true,\n    get: function () {\n      return api;\n    }\n  });\n  Object.defineProperty(exports, \"BACKEND_URL\", {\n    enumerable: true,\n    get: function () {\n      return BACKEND_URL;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _babelRuntimeHelpersClassCallCheck = require(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\");\n  var _classCallCheck = _interopDefault(_babelRuntimeHelpersClassCallCheck);\n  var _babelRuntimeHelpersCreateClass = require(_dependencyMap[2], \"@babel/runtime/helpers/createClass\");\n  var _createClass = _interopDefault(_babelRuntimeHelpersCreateClass);\n  var _expoVirtualEnv = require(_dependencyMap[3], \"expo/virtual/env\");\n  var BACKEND_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n  var ApiClient = /*#__PURE__*/function () {\n    function ApiClient() {\n      (0, _classCallCheck.default)(this, ApiClient);\n      this.token = null;\n    }\n    return (0, _createClass.default)(ApiClient, [{\n      key: \"setToken\",\n      value: function setToken(token) {\n        this.token = token;\n      }\n    }, {\n      key: \"request\",\n      value: function () {\n        var _request = (0, _asyncToGenerator.default)(function* (path) {\n          var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n          var headers = {\n            'Content-Type': 'application/json',\n            ...(options.headers || {})\n          };\n          if (this.token) {\n            headers['Authorization'] = `Bearer ${this.token}`;\n          }\n          var url = `${BACKEND_URL}/api${path}`;\n          var res = yield fetch(url, {\n            ...options,\n            headers\n          });\n          if (!res.ok) {\n            var error = yield res.json().catch(() => ({\n              detail: 'Request failed'\n            }));\n            throw new Error(error.detail || `HTTP ${res.status}`);\n          }\n          var contentType = res.headers.get('content-type');\n          if (contentType?.includes('text/csv')) {\n            return res.text();\n          }\n          return res.json();\n        });\n        function request(_x) {\n          return _request.apply(this, arguments);\n        }\n        return request;\n      }()\n    }, {\n      key: \"get\",\n      value: function get(path) {\n        return this.request(path);\n      }\n    }, {\n      key: \"post\",\n      value: function post(path, body) {\n        return this.request(path, {\n          method: 'POST',\n          body: body ? JSON.stringify(body) : undefined\n        });\n      }\n    }, {\n      key: \"put\",\n      value: function put(path, body) {\n        return this.request(path, {\n          method: 'PUT',\n          body: body ? JSON.stringify(body) : undefined\n        });\n      }\n    }, {\n      key: \"delete\",\n      value: function _delete(path) {\n        return this.request(path, {\n          method: 'DELETE'\n        });\n      }\n    }]);\n  }();\n  var api = new ApiClient();\n});","lineCount":107,"map":[[12,2,49,0,"Object"],[12,8,49,0],[12,9,49,0,"defineProperty"],[12,23,49,0],[12,24,49,0,"exports"],[12,31,49,0],[13,4,49,0,"enumerable"],[13,14,49,0],[14,4,49,0,"get"],[14,7,49,0],[14,18,49,0,"get"],[14,19,49,0],[15,6,49,0],[15,13,49,0,"api"],[15,16,49,0],[16,4,49,0],[17,2,49,0],[18,2,50,0,"Object"],[18,8,50,0],[18,9,50,0,"defineProperty"],[18,23,50,0],[18,24,50,0,"exports"],[18,31,50,0],[19,4,50,0,"enumerable"],[19,14,50,0],[20,4,50,0,"get"],[20,7,50,0],[20,18,50,0,"get"],[20,19,50,0],[21,6,50,0],[21,13,50,9,"BACKEND_URL"],[21,24,50,20],[22,4,50,20],[23,2,50,20],[24,2,50,23],[24,6,50,23,"_babelRuntimeHelpersAsyncToGenerator"],[24,42,50,23],[24,45,50,23,"require"],[24,52,50,23],[24,53,50,23,"_dependencyMap"],[24,67,50,23],[25,2,50,23],[25,6,50,23,"_asyncToGenerator"],[25,23,50,23],[25,26,50,23,"_interopDefault"],[25,41,50,23],[25,42,50,23,"_babelRuntimeHelpersAsyncToGenerator"],[25,78,50,23],[26,2,50,23],[26,6,50,23,"_babelRuntimeHelpersClassCallCheck"],[26,40,50,23],[26,43,50,23,"require"],[26,50,50,23],[26,51,50,23,"_dependencyMap"],[26,65,50,23],[27,2,50,23],[27,6,50,23,"_classCallCheck"],[27,21,50,23],[27,24,50,23,"_interopDefault"],[27,39,50,23],[27,40,50,23,"_babelRuntimeHelpersClassCallCheck"],[27,74,50,23],[28,2,50,23],[28,6,50,23,"_babelRuntimeHelpersCreateClass"],[28,37,50,23],[28,40,50,23,"require"],[28,47,50,23],[28,48,50,23,"_dependencyMap"],[28,62,50,23],[29,2,50,23],[29,6,50,23,"_createClass"],[29,18,50,23],[29,21,50,23,"_interopDefault"],[29,36,50,23],[29,37,50,23,"_babelRuntimeHelpersCreateClass"],[29,68,50,23],[30,2,50,23],[30,6,50,23,"_expoVirtualEnv"],[30,21,50,23],[30,24,50,23,"require"],[30,31,50,23],[30,32,50,23,"_dependencyMap"],[30,46,50,23],[31,2,1,0],[31,6,1,6,"BACKEND_URL"],[31,17,1,17],[31,20,1,17,"_expoVirtualEnv"],[31,35,1,17],[31,36,1,17,"env"],[31,39,1,17],[31,40,1,17,"EXPO_PUBLIC_BACKEND_URL"],[31,63,1,55],[32,2,1,56],[32,6,3,6,"ApiClient"],[32,15,3,15],[33,4,3,15],[33,13,3,15,"ApiClient"],[33,23,3,15],[34,6,3,15],[34,10,3,15,"_classCallCheck"],[34,25,3,15],[34,26,3,15,"default"],[34,33,3,15],[34,41,3,15,"ApiClient"],[34,50,3,15],[35,6,3,15],[35,11,4,10,"token"],[35,16,4,15],[35,19,4,33],[35,23,4,37],[36,4,4,37],[37,4,4,37],[37,15,4,37,"_createClass"],[37,27,4,37],[37,28,4,37,"default"],[37,35,4,37],[37,37,4,37,"ApiClient"],[37,46,4,37],[38,6,4,37,"key"],[38,9,4,37],[39,6,4,37,"value"],[39,11,4,37],[39,13,6,2],[39,22,6,2,"setToken"],[39,30,6,10,"setToken"],[39,31,6,11,"token"],[39,36,6,31],[39,38,6,33],[40,8,7,4],[40,12,7,8],[40,13,7,9,"token"],[40,18,7,14],[40,21,7,17,"token"],[40,26,7,22],[41,6,8,2],[42,4,8,3],[43,6,8,3,"key"],[43,9,8,3],[44,6,8,3,"value"],[44,11,8,3],[45,8,8,3],[45,12,8,3,"_request"],[45,20,8,3],[45,27,8,3,"_asyncToGenerator"],[45,44,8,3],[45,45,8,3,"default"],[45,52,8,3],[45,54,10,2],[45,65,10,24,"path"],[45,69,10,36],[45,71,10,79],[46,10,10,79],[46,14,10,38,"options"],[46,21,10,58],[46,24,10,58,"arguments"],[46,33,10,58],[46,34,10,58,"length"],[46,40,10,58],[46,48,10,58,"arguments"],[46,57,10,58],[46,65,10,58,"undefined"],[46,74,10,58],[46,77,10,58,"arguments"],[46,86,10,58],[46,92,10,61],[46,93,10,62],[46,94,10,63],[47,10,11,4],[47,14,11,10,"headers"],[47,21,11,41],[47,24,11,44],[48,12,12,6],[48,26,12,20],[48,28,12,22],[48,46,12,40],[49,12,13,6],[49,16,13,10,"options"],[49,23,13,17],[49,24,13,18,"headers"],[49,31,13,25],[49,35,13,55],[49,36,13,56],[49,37,13,57],[50,10,14,4],[50,11,14,5],[51,10,15,4],[51,14,15,8],[51,18,15,12],[51,19,15,13,"token"],[51,24,15,18],[51,26,15,20],[52,12,16,6,"headers"],[52,19,16,13],[52,20,16,14],[52,35,16,29],[52,36,16,30],[52,39,16,33],[52,49,16,43],[52,53,16,47],[52,54,16,48,"token"],[52,59,16,53],[52,61,16,55],[53,10,17,4],[54,10,19,4],[54,14,19,10,"url"],[54,17,19,13],[54,20,19,16],[54,23,19,19,"BACKEND_URL"],[54,34,19,30],[54,41,19,37,"path"],[54,45,19,41],[54,47,19,43],[55,10,20,4],[55,14,20,10,"res"],[55,17,20,13],[55,26,20,22,"fetch"],[55,31,20,27],[55,32,20,28,"url"],[55,35,20,31],[55,37,20,33],[56,12,20,35],[56,15,20,38,"options"],[56,22,20,45],[57,12,20,47,"headers"],[58,10,20,55],[58,11,20,56],[58,12,20,57],[59,10,22,4],[59,14,22,8],[59,15,22,9,"res"],[59,18,22,12],[59,19,22,13,"ok"],[59,21,22,15],[59,23,22,17],[60,12,23,6],[60,16,23,12,"error"],[60,21,23,17],[60,30,23,26,"res"],[60,33,23,29],[60,34,23,30,"json"],[60,38,23,34],[60,39,23,35],[60,40,23,36],[60,41,23,37,"catch"],[60,46,23,42],[60,47,23,43],[60,54,23,50],[61,14,23,52,"detail"],[61,20,23,58],[61,22,23,60],[62,12,23,77],[62,13,23,78],[62,14,23,79],[62,15,23,80],[63,12,24,6],[63,18,24,12],[63,22,24,16,"Error"],[63,27,24,21],[63,28,24,22,"error"],[63,33,24,27],[63,34,24,28,"detail"],[63,40,24,34],[63,44,24,38],[63,52,24,46,"res"],[63,55,24,49],[63,56,24,50,"status"],[63,62,24,56],[63,64,24,58],[63,65,24,59],[64,10,25,4],[65,10,27,4],[65,14,27,10,"contentType"],[65,25,27,21],[65,28,27,24,"res"],[65,31,27,27],[65,32,27,28,"headers"],[65,39,27,35],[65,40,27,36,"get"],[65,43,27,39],[65,44,27,40],[65,58,27,54],[65,59,27,55],[66,10,28,4],[66,14,28,8,"contentType"],[66,25,28,19],[66,27,28,21,"includes"],[66,35,28,29],[66,36,28,30],[66,46,28,40],[66,47,28,41],[66,49,28,43],[67,12,29,6],[67,19,29,13,"res"],[67,22,29,16],[67,23,29,17,"text"],[67,27,29,21],[67,28,29,22],[67,29,29,23],[68,10,30,4],[69,10,31,4],[69,17,31,11,"res"],[69,20,31,14],[69,21,31,15,"json"],[69,25,31,19],[69,26,31,20],[69,27,31,21],[70,8,32,2],[70,9,32,3],[71,8,32,3],[71,17,10,16,"request"],[71,24,10,23,"request"],[71,25,10,23,"_x"],[71,27,10,23],[72,10,10,23],[72,17,10,23,"_request"],[72,25,10,23],[72,26,10,23,"apply"],[72,31,10,23],[72,38,10,23,"arguments"],[72,47,10,23],[73,8,10,23],[74,8,10,23],[74,15,10,16,"request"],[74,22,10,23],[75,6,10,23],[76,4,10,23],[77,6,10,23,"key"],[77,9,10,23],[78,6,10,23,"value"],[78,11,10,23],[78,13,34,2],[78,22,34,2,"get"],[78,25,34,5,"get"],[78,26,34,6,"path"],[78,30,34,18],[78,32,34,20],[79,8,34,22],[79,15,34,29],[79,19,34,33],[79,20,34,34,"request"],[79,27,34,41],[79,28,34,42,"path"],[79,32,34,46],[79,33,34,47],[80,6,34,49],[81,4,34,50],[82,6,34,50,"key"],[82,9,34,50],[83,6,34,50,"value"],[83,11,34,50],[83,13,36,2],[83,22,36,2,"post"],[83,26,36,6,"post"],[83,27,36,7,"path"],[83,31,36,19],[83,33,36,21,"body"],[83,37,36,31],[83,39,36,33],[84,8,37,4],[84,15,37,11],[84,19,37,15],[84,20,37,16,"request"],[84,27,37,23],[84,28,37,24,"path"],[84,32,37,28],[84,34,37,30],[85,10,37,32,"method"],[85,16,37,38],[85,18,37,40],[85,24,37,46],[86,10,37,48,"body"],[86,14,37,52],[86,16,37,54,"body"],[86,20,37,58],[86,23,37,61,"JSON"],[86,27,37,65],[86,28,37,66,"stringify"],[86,37,37,75],[86,38,37,76,"body"],[86,42,37,80],[86,43,37,81],[86,46,37,84,"undefined"],[87,8,37,94],[87,9,37,95],[87,10,37,96],[88,6,38,2],[89,4,38,3],[90,6,38,3,"key"],[90,9,38,3],[91,6,38,3,"value"],[91,11,38,3],[91,13,40,2],[91,22,40,2,"put"],[91,25,40,5,"put"],[91,26,40,6,"path"],[91,30,40,18],[91,32,40,20,"body"],[91,36,40,30],[91,38,40,32],[92,8,41,4],[92,15,41,11],[92,19,41,15],[92,20,41,16,"request"],[92,27,41,23],[92,28,41,24,"path"],[92,32,41,28],[92,34,41,30],[93,10,41,32,"method"],[93,16,41,38],[93,18,41,40],[93,23,41,45],[94,10,41,47,"body"],[94,14,41,51],[94,16,41,53,"body"],[94,20,41,57],[94,23,41,60,"JSON"],[94,27,41,64],[94,28,41,65,"stringify"],[94,37,41,74],[94,38,41,75,"body"],[94,42,41,79],[94,43,41,80],[94,46,41,83,"undefined"],[95,8,41,93],[95,9,41,94],[95,10,41,95],[96,6,42,2],[97,4,42,3],[98,6,42,3,"key"],[98,9,42,3],[99,6,42,3,"value"],[99,11,42,3],[99,13,44,2],[99,22,44,2,"delete"],[99,29,44,8,"delete"],[99,30,44,9,"path"],[99,34,44,21],[99,36,44,23],[100,8,45,4],[100,15,45,11],[100,19,45,15],[100,20,45,16,"request"],[100,27,45,23],[100,28,45,24,"path"],[100,32,45,28],[100,34,45,30],[101,10,45,32,"method"],[101,16,45,38],[101,18,45,40],[102,8,45,49],[102,9,45,50],[102,10,45,51],[103,6,46,2],[104,4,46,3],[105,2,46,3],[106,2,49,7],[106,6,49,13,"api"],[106,9,49,16],[106,12,49,19],[106,16,49,23,"ApiClient"],[106,25,49,32],[106,26,49,33],[106,27,49,34],[107,0,49,35],[107,3]],"functionMap":{"names":["<global>","ApiClient","ApiClient#setToken","ApiClient#request","res.json._catch$argument_0","ApiClient#get","ApiClient#post","ApiClient#put","ApiClient#_delete"],"mappings":"AAA;ACE;ECG;GDE;EEE;2CCa,oCD;GFS;EIE,gDJ;EKE;GLE;EME;GNE;EOE;GPE;CDC"},"hasCjsExports":false},"type":"js/module"}]}